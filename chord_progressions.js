// @title Chord progressions
// @by dmrzl
// @license CC0

setcpm(90/4)

// variants are usually created by
// 1. lifting the 3rd by one octave
// 2. adding petal tones on the tonic or 3rd (usually one octave up)

$1: n(`
  <
    <-2, 0, 2>
    <-1, 1, 3>
    <0, 2, 4>
    <1, 3, 5>
    
    <-2, 7, 2>
    <-1, 8, 3>
    <0, 9, 4>
    <1, 10, 5>
    
    <-2, 2, 7, 10>
    <-1, 3, 7, 8, 10>
    <0, 4, 7, 9, 10>
    <1, 5, 7, 10>
  >
`).scale("D#3:minor").s("piano").adsr("0:1:.3:.3")

_$2: n(`
  <
    <-2,0,2>
    <-1,1,3>
    <0,2,4>
    <-1,1,3>

    <-2,2,7>
    <-1,3,8>
    <0,4,9>
    <-1,3,8>

    <-2,2,7>
    <-1,3,8>
    <0,4,9>
    <-1,3,8>
  >
`).scale("B3:minor").s("piano").adsr("0:1:1:.3")

_$2_melody: n(`
  <
    <-2,2,7,[[14 11 12 11 14 11 12 11]]>
    <-1,3,8,[[14 11 12 11 14 15 13 14]]>
    <0,4,9,[[14 11 12 11 14 11 12 11]]>
    <-1,3,8,[[14 11 12 11 14 11 12 10]]>
  >
`).scale("B3:minor").s("piano").adsr("0:1:1:.3")

_$3: n(`
  <
    <0,2,4>
    <-1,1,3>
    <-4,-2,0>
    <-2,0,2>
    
    <0,4,9>
    <-1,3,8>
    <-4,0,5>
    <-2,2,7>

    <0,4,7,9>
    <-1,3,7,8>
    <-4,0,5,7>
    <-2,2,7>
  >
`).scale("G3:minor").s("piano").adsr("0:1:1:.3")


_$4: n(`
  <
    <5,7,9>
    <2,4,6>
    <6,8,10>
    <0,2,4>

    <5,9,14>
    <2,6,11>
    <6,10,15>
    <0,4,9>

    <5,9,14>
    <2,6,9,11>
    <6,9,10,15>
    <0,4,9>
  >
`).scale("B3:minor").s("piano").adsr("0:1:1:.3")


_$5: n(`
  <
    <5,7,9>
    <7,9,11>
    <6,8,10>
    <4,6,8>

    <5,9,14>
    <7,11,16>
    <6,10,15>
    <4,8,13>

    <5,9,14>
    <7,9,11,16>
    <6,9,10,15>
    <4,8,9,13>
  >
`).scale("G#3:minor").s("piano").adsr("0:1:1:.3")


_$6: n(`
  <
    <7,9,11>@2
    <6,8,10>
    <3,5,7>

    <7,11,16>@2
    <6,10,15>
    <3,7,12>
  >
`).scale("G3:minor").s("piano").adsr("0:1:1:.3")


_$7: n(`
  <
    <5,7,9>
    <7,9,11>
    <[6@3 7],[8@3 9],[10@3 11]>@2
  
    <5,9,14>
    <7,11,16>
    <[6@3 7],[10@3 11],[15@3 16]>@2
  >
`).scale("C3:minor").s("piano").adsr("0:1:1:.3")


// any major scale
_$8: n(`
  <
    <3,5,7>
    <4,6,8>
    <1,3,5>@2

    <3,7,12>
    <4,8,13>
    <1,5,10>@2
  >
`).scale("D3:major").s("piano").adsr("0:1:1:.3")